import javax.imageio.ImageIO;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

/*
 * This Java source file was generated by the Gradle 'init' task.
 */
public class App {

    public static void main(String[] args) {
        File file = new File(args[0]);
        String transform = args[2];

        try {
            BufferedImage reader = ImageIO.read(file);
            Bitmap image = new Bitmap(reader, args[1]);
//            image.printColors(0);
            switch (transform.toLowerCase()) {
                case "flipvertical": image.flipVertical();
                                     break;
                case "fliphorizontal": image.flipHorizontal();
                                       break;
                case "convertgrayscale": image.convertGrayscale();
                                         break;
                case "darken": image.darken();
                                break;
            }
//            image.printColors(0);
            image.save();

        }
        catch (IOException e) {
            System.out.println(e);
        }
    }
}
